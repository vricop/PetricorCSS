@mixin _visibility($prefix: '.') {
  #{$prefix}visible { visibility: visible; }
  #{$prefix}invisible { visibility: hidden; }
}

@mixin visibility($breakpoint: null) {
  $variants: map-get($modules, 'visibility');

  @if $variants != false {
    @if not($breakpoint) {
      @include _visibility;
    }

    @if index($variants, 'responsive') and $breakpoint != null {
      @include _visibility('.#{$breakpoint}\\:');
    }
  }
}
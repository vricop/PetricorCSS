@mixin build-variants($utility-config, $utility-variants, $screen) {
  $variants: map-get($modules, $utility-variants);

  @if $variants == true or type-of($variants) == list {
    @each $modifier, $value in $utility-config {
      $modifier: if(
        $modifier == 'default' and $utility-variants != 'cursor', 
        null,
        '-#{$modifier}'
      );

      $em-prefix: if(
        type-of($value) == 'number' and unit($value) == 'em',
        $em-prefix: '\\*',
        null
      );
      
      // DEFAULT
      @if $screen == null {
        @content($em-prefix, $modifier, null, $value);

        @if index($variants, 'hover') {
          @content('hover\\:#{$em-prefix}', $modifier, ':hover', $value);
        }

        @if index($variants, 'group-hover') {
          @content('group:hover .group-hover\\:#{$em-prefix}', $modifier, null, $value);
        }

        @if index($variants, 'focus') {
          @content('focus\\:#{$em-prefix}', $modifier, ':focus', $value);
        }
      }
      
      // RESPONSIVE
      @if index($variants, 'responsive') and $screen != null {
        @content('#{$screen}\\:#{$em-prefix}', $modifier, null, $value);

        @if index($variants, 'hover') {
          @content('#{$screen}\\:hover\\:#{$em-prefix}', $modifier, ':hover', $value);
        }

        @if index($variants, 'group-hover') {
          @content('#{$screen}\\:.group:hover .group-hover\\:#{$em-prefix}', $modifier, null, $value);
        }

        @if index($variants, 'focus') {
          @content('#{$screen}\\:focus\\:#{$em-prefix}', $modifier, ':focus', $value);
        }
      }
    }
  }
}
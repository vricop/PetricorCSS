@use '../config';
@use '../utils/generate-variants';
@use 'sass:map';

@mixin transition($screen: null) {
  // Idea taken form this source: https://github.com/StackExchange/Stacks/pull/191

  $variants: map.get(config.$variants, 'transition');

  $args-duration: config.$transition-duration, $variants, $screen;
  $args-property: config.$transition-property, $variants, $screen;
  $args-function: config.$transition-function, $variants, $screen;
  $args-delay   : config.$transition-delay,    $variants, $screen;
  
  @include generate-variants.configurable($args-duration...) using ($prefix, $modifier, $state, $value) {
    .#{$prefix}transition#{$modifier}#{$state} { transition-duration: $value; }
  }
  
  @include generate-variants.configurable($args-property...) using ($prefix, $modifier, $state, $value) {
    .#{$prefix}transition#{$modifier}#{$state} { transition-property: $value; }
  }
  
  @include generate-variants.configurable($args-function...) using ($prefix, $modifier, $state, $value) {
    .#{$prefix}transition#{$modifier}#{$state} { transition-timing-function: $value; }
  }

  @include generate-variants.configurable($args-delay...) using ($prefix, $modifier, $state, $value) {
    .#{$prefix}transition-delay#{$modifier}#{$state} { transition-delay: $value; }
  }
}